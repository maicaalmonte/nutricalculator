<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>OpenFoodFacts Viewer</title><style>body{font-family:Bookman Old Style,sans-serif;margin:11px;background-color:#f9f9f9}button,input{margin:5px;padding:10px;font-size:10px}table{width:100%;border-collapse:collapse;margin-top:11px;background-color:#fff}table,td,th{border:1px solid #ccc}td,th{padding:10px;text-align:left}th{background-color:#f4f4f4;font-weight:700}.calculator{margin-top:11px;padding:10px;background-color:#e6f7ff;border-radius:5px}.calculator input,.calculator label{margin-right:10px}.calculator div{display:inline-block;margin-right:15px}.status{color:red;margin:10px 0}.nutrition-results{margin-top:11px;background-color:#e7ffe7;padding:8px;border-radius:5px}</style><script defer="defer" src="/nutricalculator/static/js/main.02ff8210.js"></script></head><body><h1>NUTRITIONAL VALUEðŸ˜Š</h1><div><label for="page">Page:</label> <input type="number" id="page" value="1" min="1"> <label for="limit">Limit:</label> <input type="number" id="limit" value="10" min="1"> <label for="category">Category:</label> <input id="category" placeholder="e.g., Beverages"> <label for="brand">Brand:</label> <input id="brand" placeholder="e.g., Coca Cola"> <label for="product_name">Product Name:</label> <input id="product_name" placeholder="e.g., Diet Coke"> <button onclick="fetchData()">Fetch Data</button></div><div id="status" class="status"></div><div class="calculator"><div><label for="products">Select Products (comma separated):</label> <input id="products" placeholder="e.g., Coca-Cola, Nutella"></div><div><label for="quantities">Quantities (comma separated, e.g., ml or g):</label> <input id="quantities" placeholder="e.g., 100ml, 50g"></div><div><button onclick="calculateNutrition()">Calculate Nutrition</button></div><div id="calculated-nutrition" class="nutrition-results" style="display:none"><table id="calculated-nutrition-table"><thead><tr><th>Product</th><th>Quantity</th><th>Energy (kcal)</th><th>Fat (g)</th><th>Carbohydrates (g)</th><th>Sugars (g)</th><th>Proteins (g)</th><th>Salt (g)</th><th>Fiber (g)</th><th>Vitamin A (Âµg)</th><th>Vitamin C (mg)</th><th>Calcium (mg)</th><th>Iron (mg)</th><th>Magnesium (mg)</th><th>Potassium (mg)</th><th>Sodium (mg)</th><th>Zinc (mg)</th><th>Phosphorus (mg)</th><th>Vitamin D (Âµg)</th><th>Vitamin E (mg)</th><th>Vitamin K (Âµg)</th><th>Folate (Âµg)</th><th>Vitamin B12 (Âµg)</th><th>Vitamin B6 (mg)</th><th>Copper (mg)</th><th>Manganese (mg)</th><th>Selenium (Âµg)</th></tr></thead><tbody></tbody></table></div></div><table id="data-table"><thead><tr><th>Product Name</th><th>Brand</th><th>Ingredients</th><th>Quantity</th><th>Code</th><th>Energy (kcal/100g)</th><th>Fat (g/100g)</th><th>Carbohydrates (g/100g)</th><th>Sugars (g/100g)</th><th>Proteins (g/100g)</th><th>Salt (g/100g)</th><th>Fiber (g/100g)</th><th>Vitamin A (Âµg/100g)</th><th>Vitamin C (mg/100g)</th><th>Calcium (mg/100g)</th><th>Iron (mg/100g)</th><th>Magnesium (mg/100g)</th><th>Potassium (mg/100g)</th><th>Sodium (mg/100g)</th><th>Zinc (mg/100g)</th><th>Phosphorus (mg/100g)</th><th>Vitamin D (Âµg/100g)</th><th>Vitamin E (mg/100g)</th><th>Vitamin K (Âµg/100g)</th><th>Folate (Âµg/100g)</th><th>Vitamin B12 (Âµg/100g)</th><th>Vitamin B6 (mg/100g)</th><th>Copper (mg/100g)</th><th>Manganese (mg/100g)</th><th>Selenium (Âµg/100g)</th></tr></thead><tbody></tbody></table><script>let productData=[];async function fetchData(){const t=document.getElementById("page").value,e=document.getElementById("limit").value,n=document.getElementById("category").value,o=document.getElementById("brand").value,a=document.getElementById("product_name").value,d=document.getElementById("status"),c=document.getElementById("data-table").querySelector("tbody");d.textContent="",c.innerHTML="";try{const r=await fetch("/fetch_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:t,limit:e,category:n,brand:o,product_name:a})}),l=await r.json();"success"===l.status?(productData=l.data,productData.forEach((t=>{const e=document.createElement("tr");Object.values(t).forEach((t=>{const n=document.createElement("td");n.textContent=t,e.appendChild(n)})),c.appendChild(e)}))):d.textContent=l.message}catch(t){d.textContent="Error fetching data.",console.error("Error:",t)}}function calculateNutrition(){const t=document.getElementById("products").value.split(","),e=document.getElementById("quantities").value.split(","),n=document.getElementById("calculated-nutrition"),o=document.getElementById("calculated-nutrition-table"),a=o.querySelector("tbody");if(n.style.display="none",a.innerHTML="",t.length!==e.length)return n.textContent="The number of products must match the number of quantities.",void(n.style.display="block");let d={};t.forEach(((t,o)=>{const c=productData.find((e=>e.product_name.toLowerCase().includes(t.trim().toLowerCase())));if(c){const n=parseFloat(e[o].trim()),r={};for(const[t,e]of Object.entries(c))if(t.includes("100g")){const o=e*(n/100);r[t]=o.toFixed(2),d[t]?d[t]+=o:d[t]=o}const l=document.createElement("tr");l.innerHTML=`\n                        <td>${t.trim()}</td>\n                        <td>${n}</td>\n                        ${Object.entries(r).map((([t,e])=>`<td>${e}</td>`)).join("")}\n                    `,a.appendChild(l)}else{const e=document.createElement("p");e.textContent=`No data found for product: ${t.trim()}`,n.appendChild(e)}}));const c=document.createElement("tr");c.innerHTML=`\n                <td><strong>Total</strong></td>\n                <td></td>\n                ${Object.entries(d).map((([t,e])=>`<td>${e.toFixed(2)}</td>`)).join("")}\n            `,a.appendChild(c),n.style.display="block",o.style.display="table"}</script></body></html>