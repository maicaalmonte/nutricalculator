{"version":3,"file":"static/js/main.02ff8210.js","mappings":"CAwFA,WACI,MAAMA,EAAkBC,SAASC,eAAe,iBAEhDF,EAAgBG,UAAY,yBAE5BC,MAAM,eACLC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACkB,YAAhBA,EAAKC,OAcjB,SAAoBC,GAChB,MAAMV,EAAkBC,SAASC,eAAe,iBAChDF,EAAgBG,UAAY,GAE5BO,EAASC,SAAQC,IACb,MAAMC,EAAaZ,SAASa,cAAc,OAC1CD,EAAWE,UAAUC,IAAI,gBAEzB,MAAMC,EAAQhB,SAASa,cAAc,MACrCG,EAAMC,YAAcN,EAAQK,MAC5BJ,EAAWM,YAAYF,GAEvB,MAAMG,EAAcnB,SAASa,cAAc,KAC3CM,EAAYF,YAAcN,EAAQQ,aAAe,4BACjDP,EAAWM,YAAYC,GAEvBpB,EAAgBmB,YAAYN,EAAW,GAE/C,CA9BYQ,CADiBb,EAAKE,UAGtBV,EAAgBG,UAAY,UAAYK,EAAKc,OACjD,IAEHC,OAAMC,IACHC,QAAQD,MAAM,SAAUA,GACxBxB,EAAgBG,UAAY,wCAAwC,GAE5E,CAwBAuB","sources":["index.js"],"sourcesContent":["// Function to fetch data from the Flask server\r\nfunction fetchData() {\r\n    const page = document.getElementById('page').value;\r\n    const limit = document.getElementById('limit').value;\r\n    const language = document.getElementById('language') ? document.getElementById('language').value : 'en';  // Ensure language is passed\r\n\r\n    const status = document.getElementById('status');\r\n    const dataTable = document.getElementById('data-table').getElementsByTagName('tbody')[0];\r\n\r\n    // Show loading status\r\n    status.textContent = 'Loading...';\r\n\r\n    // Make AJAX request to Flask server\r\n    const formData = new FormData();\r\n    formData.append('page', page);\r\n    formData.append('limit', limit);\r\n    formData.append('language', language);\r\n\r\n    fetch('/fetch_data', {\r\n        method: 'POST',\r\n        body: formData\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if (data.status === 'success') {\r\n            const products = data.data;\r\n            updateTable(products);\r\n            status.textContent = '';\r\n        } else {\r\n            status.textContent = 'Error: ' + data.message;\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        status.textContent = 'An error occurred while fetching the data.';\r\n    });\r\n}\r\n\r\n// Function to update the data table\r\nfunction updateTable(products) {\r\n    const dataTable = document.getElementById('data-table').getElementsByTagName('tbody')[0];\r\n    dataTable.innerHTML = '';  // Clear existing data in the table\r\n\r\n    products.forEach(product => {\r\n        const row = dataTable.insertRow();\r\n\r\n        const productNameCell = row.insertCell(0);\r\n        const brandCell = row.insertCell(1);\r\n        const ingredientsCell = row.insertCell(2);\r\n        const quantityCell = row.insertCell(3);\r\n        const codeCell = row.insertCell(4);\r\n        const energyCell = row.insertCell(5);\r\n        const fatCell = row.insertCell(6);\r\n        const carbsCell = row.insertCell(7);\r\n        const sugarsCell = row.insertCell(8);\r\n        const proteinsCell = row.insertCell(9);\r\n        const saltCell = row.insertCell(10);\r\n        const fiberCell = row.insertCell(11);\r\n        const vitACell = row.insertCell(12);\r\n        const vitCCell = row.insertCell(13);\r\n        const calciumCell = row.insertCell(14);\r\n        const ironCell = row.insertCell(15);\r\n        const magnesiumCell = row.insertCell(16);\r\n        const potassiumCell = row.insertCell(17);\r\n\r\n        // Fill in the row with data\r\n        productNameCell.textContent = product.product_name;\r\n        brandCell.textContent = product.brands;\r\n        ingredientsCell.textContent = product.ingredients_text;\r\n        quantityCell.textContent = product.quantity;\r\n        codeCell.textContent = product.code;\r\n        energyCell.textContent = product['energy-kcal_100g'];\r\n        fatCell.textContent = product['fat_100g'];\r\n        carbsCell.textContent = product['carbohydrates_100g'];\r\n        sugarsCell.textContent = product['sugars_100g'];\r\n        proteinsCell.textContent = product['proteins_100g'];\r\n        saltCell.textContent = product['salt_100g'];\r\n        fiberCell.textContent = product['fiber_100g'];\r\n        vitACell.textContent = product['vitamin-a_100g'];\r\n        vitCCell.textContent = product['vitamin-c_100g'];\r\n        calciumCell.textContent = product['calcium_100g'];\r\n        ironCell.textContent = product['iron_100g'];\r\n        magnesiumCell.textContent = product['magnesium_100g'];\r\n        potassiumCell.textContent = product['potassium_100g'];\r\n    });\r\n}\r\n\r\n// Function to fetch news articles from the Flask server\r\nfunction fetchNews() {\r\n    const newsArticlesDiv = document.getElementById('news-articles');\r\n\r\n    newsArticlesDiv.innerHTML = '<p>Loading news...</p>';  // Show loading text\r\n\r\n    fetch('/fetch_news')\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if (data.status === 'success') {\r\n            const articles = data.articles;\r\n            updateNews(articles);\r\n        } else {\r\n            newsArticlesDiv.innerHTML = 'Error: ' + data.message;\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        newsArticlesDiv.innerHTML = 'An error occurred while fetching news.';\r\n    });\r\n}\r\n\r\n// Function to update the news section\r\nfunction updateNews(articles) {\r\n    const newsArticlesDiv = document.getElementById('news-articles');\r\n    newsArticlesDiv.innerHTML = '';  // Clear existing news\r\n\r\n    articles.forEach(article => {\r\n        const articleDiv = document.createElement('div');\r\n        articleDiv.classList.add('news-article');\r\n\r\n        const title = document.createElement('h3');\r\n        title.textContent = article.title;\r\n        articleDiv.appendChild(title);\r\n\r\n        const description = document.createElement('p');\r\n        description.textContent = article.description || 'No description available.';\r\n        articleDiv.appendChild(description);\r\n\r\n        newsArticlesDiv.appendChild(articleDiv);\r\n    });\r\n}\r\n\r\n// Call fetchNews() once to load initial news\r\nfetchNews();"],"names":["newsArticlesDiv","document","getElementById","innerHTML","fetch","then","response","json","data","status","articles","forEach","article","articleDiv","createElement","classList","add","title","textContent","appendChild","description","updateNews","message","catch","error","console","fetchNews"],"sourceRoot":""}